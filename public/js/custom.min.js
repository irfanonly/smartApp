var customScripts={profile:function(){if($('.isotopeWrapper').length){var $container=$('.isotopeWrapper');var $resize=$('.isotopeWrapper').attr('id');$container.isotope({itemSelector:'.isotopeItem',resizable:!1,masonry:{columnWidth:$container.width()/$resize}});$("a[href='#top']").click(function(){$("html, body").animate({scrollTop:0},"slow");return!1});$('.navbar-inverse').on('click','li a',function(){$('.navbar-inverse .in').addClass('collapse').removeClass('in').css('height','1px')});$('#filter a').click(function(){$('#filter a').removeClass('current');$(this).addClass('current');var selector=$(this).attr('data-filter');$container.isotope({filter:selector,animationOptions:{duration:1000,easing:'easeOutQuart',queue:!1}});return!1});$(window).smartresize(function(){$container.isotope({masonry:{columnWidth:$container.width()/$resize}})})}},fancybox:function(){$(".fancybox").fancybox()},onePageNav:function(){$('#mainNav').onePageNav({currentClass:'active',changeHash:!1,scrollSpeed:950,scrollThreshold:0.2,filter:'',easing:'swing',begin:function(){},end:function(){},scrollChange:function($currentListItem){}})},bannerHeight:function(){var bHeight=$(".banner-container").height();$('#da-slider').height(bHeight);$(window).resize(function(){var bHeight=$(".banner-container").height();$('#da-slider').height(bHeight)})},goolemap:function(){var lat=6.92708;var lng=79.8612;$('#latitude').val(lat);$('#longitude').val(lng);codeLatLng(lat,lng);latlng=new google.maps.LatLng(lat,lng),image='http://www.google.com/intl/en_us/mapfiles/ms/micons/blue-dot.png';var mapOptions={center:new google.maps.LatLng(lat,lng),zoom:13,mapTypeId:google.maps.MapTypeId.ROADMAP,panControl:!0,panControlOptions:{position:google.maps.ControlPosition.TOP_RIGHT},zoomControl:!0,zoomControlOptions:{style:google.maps.ZoomControlStyle.LARGE,position:google.maps.ControlPosition.TOP_left}},map=new google.maps.Map(document.getElementById('map_canvas'),mapOptions),marker=new google.maps.Marker({position:latlng,map:map,icon:image,draggable:!0,});var input=document.getElementById('address');var autocomplete=new google.maps.places.Autocomplete(input,{types:["geocode"],componentRestrictions:{country:"lk"}});autocomplete.bindTo('bounds',map);var infowindow=new google.maps.InfoWindow();google.maps.event.addListener(autocomplete,'place_changed',function(event){infowindow.close();var place=autocomplete.getPlace();if(place.geometry){if(place.geometry.viewport){map.fitBounds(place.geometry.viewport)}else{map.setCenter(place.geometry.location);map.setZoom(17)}}
moveMarker(place.name,place.geometry.location);$('.MapLat').val(place.geometry.location.lat());$('.MapLon').val(place.geometry.location.lng());$('#latitude').val(place.geometry.location.lat());$('#longitude').val(place.geometry.location.lng())});google.maps.event.addListener(marker,'dragend',function(event){$('.MapLat').val(event.latLng.lat());$('.MapLon').val(event.latLng.lng());infowindow.close();var geocoder=new google.maps.Geocoder();geocoder.geocode({"latLng":event.latLng},function(results,status){if(status==google.maps.GeocoderStatus.OK){var lat=results[0].geometry.location.lat(),lng=results[0].geometry.location.lng(),placeName=results[0].address_components[0].long_name,latlng=new google.maps.LatLng(lat,lng);$('#latitude').val(lat);$('#longitude').val(lng);moveMarker(placeName,latlng);$("#address").val(results[0].formatted_address)}})});google.maps.event.addListener(map,'click',function(event){$('.MapLat').val(event.latLng.lat());$('.MapLon').val(event.latLng.lng());infowindow.close();var geocoder=new google.maps.Geocoder();geocoder.geocode({"latLng":event.latLng},function(results,status){if(status==google.maps.GeocoderStatus.OK){var lat=results[0].geometry.location.lat(),lng=results[0].geometry.location.lng(),placeName=results[0].address_components[0].long_name,latlng=new google.maps.LatLng(lat,lng);$('#latitude').val(lat);$('#longitude').val(lng);moveMarker(placeName,latlng);$("#address").val(results[0].formatted_address)}})});function moveMarker(placeName,latlng){marker.setIcon(image);marker.setPosition(latlng);infowindow.setContent(placeName)}
function codeLatLng(lat,lng){geocoder=new google.maps.Geocoder();var latlng=new google.maps.LatLng(lat,lng);geocoder.geocode({'latLng':latlng},function(results,status){if(status==google.maps.GeocoderStatus.OK){if(results[1]){$("#address").val(results[0].formatted_address);for(var i=0;i<results[0].address_components.length;i++){for(var b=0;b<results[0].address_components[i].types.length;b++){if(results[0].address_components[i].types[b]=="administrative_area_level_1"){city=results[0].address_components[i];break}}}}else{alert("No results found")}}else{alert("Geocoder failed due to: "+status)}})}
function showPosition(position){var latlon=position.coords.latitude+","+position.coords.longitude}
function showError(error){switch(error.code){case error.PERMISSION_DENIED:x.innerHTML="User denied the request for Geolocation."
break;case error.POSITION_UNAVAILABLE:x.innerHTML="Location information is unavailable."
break;case error.TIMEOUT:x.innerHTML="The request to get user location timed out."
break;case error.UNKNOWN_ERROR:x.innerHTML="An unknown error occurred."
break}}},init:function(){customScripts.onePageNav();customScripts.profile();customScripts.fancybox();customScripts.goolemap();customScripts.bannerHeight()}}
$('document').ready(function(){$(document).on("click","#btn-service-navigation",function(){$('html, body').animate({scrollTop:$("#skills").offset().top},2000)});function toggleIcon(e){$(e.target).prev('.panel-heading').find(".more-less").toggleClass('glyphicon-chevron-down glyphicon-chevron-up')}
$('.panel-group').on('hidden.bs.collapse',toggleIcon);$('.panel-group').on('shown.bs.collapse',toggleIcon);$('.accordion2').on('hidden.bs.collapse',toggleIcon);$('.accordion2').on('shown.bs.collapse',toggleIcon);customScripts.init()})